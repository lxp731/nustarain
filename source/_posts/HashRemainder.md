---
title: 分布式存储之哈希取余算法
date: 2023-08-13 14:28:58
categories: 理论知识
tags:
  - Docker
---

### 基本思想

哈希取余算法是一种简单的分布式存储算法,基本思想是:

1. 对存储数据计算哈希值(hash)

2. 对存储节点数量取余,得到一个索引值

<!-- more -->

3. 根据索引值将数据存储到对应的存储节点上

例如,有存储数据A,B,C,总共3个存储节点(节点号0,1,2)

1. 计算A的哈希值hash(A) = 7 

2. 7 % 3 = 1,所以存储到节点1

3. 计算B的哈希值hash(B) = 11

4. 11 % 3 = 2,所以存储到节点2

5. 计算C的哈希值hash(C) = 5

6. 5 % 3 = 2,所以也存储到节点2

通过这个算法,可以将数据均匀地分布到不同的存储节点上,实现负载均衡。

这种算法的优点是简单易实现,计算速度快,缺点是扩容或节点变更时需要重定位大量数据,也无法防止数据热点问题。

所以哈希取余算法适用于小规模、低变更频率的分布式存储场景。在大数据量或高变更频率场景下,会采用一致性哈希等更高效的算法。